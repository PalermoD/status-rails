<%= form_for(@micropost) do |f| %>
  <%= render 'shared/post_errors', object: f.object %>



  <!-- <span class="picture"> -->
    <!-- <%= f.label :Photo%>
    <%= f.label :Upload%> -->
    <!-- <label for="file-upload" class="custom-file-upload">
        <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
        Custom Upload
    </label> -->

    <label class="custom-file-upload">
        <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
            Custom Upload
    </label>

    <!-- <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %> -->
  <!-- </span> -->



  <div class="field">
    <%= f.text_area :content, placeholder: "Compose new post..." %>
  </div>
  <%= f.submit "Post", class: "btn btn-primary" %>
<% end %>

<script type="text/javascript">

document.getElementById("uploadBtn").onchange = function () {
    document.getElementById("uploadFile").value = this.value;
};

function readURL(input) {
    console.log('what up')
        if (input.files && input.files[0]) {
          var reader = new FileReader();

          reader.onload = function (e) {
            $('#img_prev')
              .attr('src', e.target.result)
              .width(150)
              .height(200);
          };

          reader.readAsDataURL(input.files[0]);
        }
      }




  $('#micropost_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 10) {
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
  });
</script>
